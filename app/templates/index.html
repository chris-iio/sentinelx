{% extends "base.html" %}

{% block content %}
<div class="page-index">
    <div class="input-card">
        <div class="index-hero">
            <span class="index-hero-brand"><span class="brand-accent">sentinel</span>x</span>
        </div>

        {% if error %}
        <div class="alert alert-error" role="alert">{{ error }}</div>
        {% endif %}

        <form method="post" action="{{ url_for('main.analyze') }}" id="analyze-form">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

            <div class="form-field textarea-wrap">
                <textarea
                    id="ioc-text"
                    name="text"
                    class="ioc-textarea"
                    rows="5"
                    placeholder=""
                    spellcheck="false"
                    autocomplete="off"
                    aria-label="IOC text input"
                ></textarea>
                <span class="textarea-cursor" aria-hidden="true"></span>
                <span id="paste-feedback" class="paste-feedback" style="display:none;" aria-live="polite"></span>
            </div>

            <div class="form-options">
                <div class="mode-toggle">
                    <div class="mode-toggle-widget" id="mode-toggle-widget" data-mode="offline">
                        <span class="mode-toggle-label mode-toggle-label--offline">Offline</span>
                        <button type="button" class="mode-toggle-track" id="mode-toggle-btn" aria-pressed="false" aria-label="Toggle analysis mode">
                            <span class="mode-toggle-thumb"></span>
                        </button>
                        <span class="mode-toggle-label mode-toggle-label--online">Online</span>
                    </div>
                    <input type="hidden" name="mode" id="mode-input" value="offline">
                </div>

                <div class="form-actions">
                    <button
                        type="button"
                        class="btn btn-secondary"
                        id="clear-btn"
                    >Clear</button>
                    <button
                        type="submit"
                        class="btn btn-primary"
                        id="submit-btn"
                        disabled
                    >Extract</button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
